<div class="g-col-6">
	<div class="card crudbox w-100" id="{{ @templateVars.crudBox.id }}" data-crudboxtype="references">
		<div class="card-header d-flex justify-content-between align-items-center">
			<h5>{{ @templateVars.crudBox.title }}</h5>
		</div>
		<div class="card-body position-relative">
			<label for="newReference">{{ _tr('addReference') }}</label>
			<div class="input-group mb-4">
				<select class="cat-select form-select w-30" data-msgnocategory="{{_tr('msgNoCategory') }}" data-nosaveonchange="1">
					<option value="default" data-url="">{{ _tr('category') }}</option>
					<repeat group="{{ @templateVars.crudBox.categories }}" value="{{ @category }}">
						<option value="{{ @category.IDENTCAT_ID }}" data-url="{{ @category.URL_base }}" data-shortcode="{{ @category.short_code }}">{{ @category.short_code }}</option>
					</repeat>
				</select>
				<input type="text" class="form-control w-50" id="newReference" data-crudboxadd="1">
				<button type="button" class="input-group-text lh-1 fs-4" data-addbtn="1">+</button>
			</div>
			<div id="thesaurusSearchResult" data-nostore="1" class="collapse nhm-search-result position-absolute border p-4 rounded bg-white">
			</div>
			<ul class="list-group crudbox-entries list-unstyled" data-empty-text="{{ _tr('noEntries') }}" data-crudboxlist="1">
				<repeat group="{{ @templateVars.crudBox.data }}" value="{{ @value }}">
					<li class="mb-3 crudbox-entry d-flex justify-content-between align-items-center input-group border-bottom py-2 mb-3">
						<input type="hidden" name="IDENTCAT_ID[]" value="{{ @value.IDENTCAT_ID }}" form="{{ @templateVars.crudBox.formId }}">
						<input type="hidden" name="identifier[]" value="{{ @value.identifier }}" form="{{ @templateVars.crudBox.formId }}">
						<span class="crudbox-entry-text flex-grow-1 w-75 px-3"><a href="{{ @value.URL_base }}{{ @value.identifier }}" target="_blank">{{ @value.short_code }} - {{ @value.identifier }}</a></span>
						<button type="button" class="btn lh-1 fs-3 text-danger" data-delete="1" title="{{ _tr('delete') }}">&times;</button>
					</li>
				</repeat>
			</ul>
			<template id="template_{{ @templateVars.crudBox.id }}">
				<li class="mb-3 crudbox-entry d-flex justify-content-between align-items-center input-group  border-bottom py-2 mb-3">
					<input type="hidden" name="IDENTCAT_ID[]" value="" form="{{ @templateVars.crudBox.formId }}">
					<input type="hidden" name="identifier[]" value="" form="{{ @templateVars.crudBox.formId }}">
					<span class="crudbox-entry-text flex-grow-1 w-75 px-3"></span>
					<button type="button" class="btn lh-1 fs-3 text-danger" title="{{ _tr('delete') }}">&times;</button>
				</li>
			</template>
		</div>
	</div>
</div>
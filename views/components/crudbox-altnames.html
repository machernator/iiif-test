<div class="mb-4"
	x-data="altNames"
	x-init='aliases={{ @crudBox.dataJSON | raw }}'>
	<div class="card w-100" id="{{ @crudBox.id }}">
		<div class="card-header d-flex justify-content-between align-items-center">
			<h5>{{ @crudBox.title }}</h5>
		</div>
		<div class="card-body position-relative">
			<div>
				<div class="input-group mb-5">
					<select class="form-select w-30"
						data-msgnolanguage="{{ _tr('msgNoLanguage') }}"
						data-nosaveonchange="1"
						x-ref="refLanguages"
						aria-label="{{ 'language' | _tr }}">
						<option value="">{{ _tr('language') }}</option>
						<repeat group="{{ @languages }}" value="{{ @lang }}" key="{{ @langCode }}">
							<option value="{{ @langCode }}">{{ @lang }}</option>
						</repeat>
					</select>
					<input type="text"
						class="form-control w-50"
						placeholder="{{ @crudBox.addLabel }}"
						aria-label="{{ @crudBox.addLabel }}"
						x-ref="refAlias"
						data-nosaveonchange="1"
						data-msgnoalias="{{ 'msgNoAlias' | _tr }}">
					<button
						type="button"
						class="input-group-text lh-1 fs-4"
						data-addbtn="1"
						@click="onAddAlias">+</button>
				</div>
			</div>

			<ul class="list-group crudbox-entries list-unstyled" data-empty-text="{{ _tr('noEntries') }}">
				<template x-for="(alias, index) in aliases">
					<li class="mb-3 crudbox-entry d-flex justify-content-between align-items-center border-bottom py-2 mb-3">
						<span x-text="alias.alias_name + ', ' + alias.alias_language"></span>
						<button type="button" class="btn lh-1 fs-3 text-danger" @click="onDeleteAlias(index, $el)" title="{{ _tr('delete') }}">&times;</button>
						<input type="hidden" name="alias_name[]" class="crudbox-input" :value="alias.alias_name" form="{{ @crudBox.formId }}">
						<input type="hidden" name="alias_language[]" class="crudbox-input" :value="alias.alias_language" form="{{ @crudBox.formId }}">
					</li>
				</template>
			</ul>
		</div>
	</div>
</div>
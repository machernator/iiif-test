!function(){"use strict";const e=document.getElementById("action"),t=document.getElementById("context"),n=document.getElementById("actorName"),c=document.getElementById("actionStart");let o,r="",a="",i="",s="",u="";window.addEventListener("alpine:init",(()=>{Alpine.store("objectActions",{action:"",context:"",currPerson:"",currInstitute:"",actions:{},addAction(){const u=e.value;return""==u?(alert(e.dataset.error),void e.focus()):""==n.value&&""==r&&""==s?(alert(t.dataset.error),void t.focus()):(o.actions.unshift({ACT_ID:u,action_name:e.querySelector("option:checked").innerText,actor_name:n.value,institute_name:o.currInstitute,person_fullname:o.currPerson,PERS_ID:s,INST_ID:r,action_start:c.value,comment:document.getElementById("comment").value}),function(e){const t=document.getElementsByName(e);for(let e=0;e<t.length;e++)t[e].checked=!1}("context"),e.selectedIndex=0,document.getElementById("comment").value="",void Alpine.nextTick((()=>{Signals.dispatch("saveObject",{},this),s="",i="",r="",a="",n.value="",c.value="",o.currInstitute="",o.currPerson=""})))},deleteAction(e){o.actions.splice(e,1),Alpine.nextTick((()=>{Signals.dispatch("saveObject",{},null)}))},onContextChanged(e){switch(u=e.target.value,u){case"person":r="",a="",n.value="",o.currInstitute="";break;case"institute":s="",i="",n.value="",o.currPerson="";break;case"text":s="",i="",r="",a="",o.currPerson="",o.currInstitute=""}}}),o=Alpine.store("objectActions")})),NHMSearch("actionPersonSearch",(function(e,t){s=e,i=t,o.currPerson=t})),NHMSearch("actionInstituteSearch",(function(e,t){r=e,a=t,o.currInstitute=t}))}();
//# sourceMappingURL=crudbox-actions.min.js.map
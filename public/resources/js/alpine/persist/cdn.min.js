(()=>{function e(e){let r=()=>{let r,l=localStorage;return e.interceptor(((s,c,o,u,f)=>{let g=r||`_x_${u}`,a=t(g,l)?n(g,l):s;return o(a),e.effect((()=>{let e=c();i(g,e,l),o(e)})),a}),(e=>{e.as=t=>(r=t,e),e.using=t=>(l=t,e)}))};Object.defineProperty(e,"$persist",{get:()=>r()}),e.magic("persist",r),e.persist=(r,{get:l,set:s},c=localStorage)=>{let o=t(r,c)?n(r,c):l();s(o),e.effect((()=>{let e=l();i(r,e,c),s(e)}))}}function t(e,t){return null!==t.getItem(e)}function n(e,t){return JSON.parse(t.getItem(e,t))}function i(e,t,n){n.setItem(e,JSON.stringify(t))}document.addEventListener("alpine:init",(()=>{window.Alpine.plugin(e)}))})();
{
  "version": 3,
  "sources": ["node_modules/shorter-js/src/misc/isElement.js", "node_modules/shorter-js/src/misc/querySelector.js", "node_modules/shorter-js/src/misc/queryElement.js", "node_modules/shorter-js/src/strings/addEventListener.js", "node_modules/shorter-js/src/strings/removeEventListener.js", "node_modules/shorter-js/src/boolean/supportPassive.js", "node_modules/shorter-js/src/misc/passiveHandler.js", "node_modules/shorter-js/src/class/addClass.js", "node_modules/shorter-js/src/class/hasClass.js", "node_modules/shorter-js/src/class/removeClass.js", "node_modules/bootstrap.native/src/strings/ariaExpanded.js", "node_modules/bootstrap.native/src/strings/showClass.js", "node_modules/bootstrap.native/src/strings/dataBsToggle.js", "node_modules/bootstrap.native/src/strings/dropdownClasses.js", "node_modules/bootstrap.native/src/strings/dropdownMenuClass.js", "node_modules/bootstrap.native/src/util/bootstrapCustomEvent.js", "node_modules/bootstrap.native/src/util/isEmptyAnchor.js", "node_modules/bootstrap.native/src/util/setFocus.js", "node_modules/shorter-js/src/misc/normalizeValue.js", "node_modules/shorter-js/src/misc/ObjectKeys.js", "node_modules/shorter-js/src/misc/normalizeOptions.js", "node_modules/bootstrap.native/src/components/base-component.js", "node_modules/bootstrap.native/src/components/dropdown-native.js", "tags.js", "tags-standalone.js"],
  "sourcesContent": ["/**\n * Checks if an object is an `Element`.\n *\n * @param {any} element the target object\n * @returns {boolean} the query result\n */\nexport default function isElement(element) {\n  return element instanceof Element;\n}\n", "import isElement from './isElement';\n\n/**\n * Utility to check if target is typeof `Element`\n * or find one that matches a selector.\n *\n * @param {Element | string} selector the input selector or target element\n * @param {Element=} parent optional Element to look into\n * @return {Element?} the Element or `querySelector` result\n */\nexport default function querySelector(selector, parent) {\n  const lookUp = parent && isElement(parent) ? parent : document;\n  // @ts-ignore -- `isElement` is just as good\n  return isElement(selector) ? selector : lookUp.querySelector(selector);\n}\n", "import querySelector from './querySelector';\n\n/**\n * Utility to check if target is typeof `Element`\n * or find one that matches a selector.\n *\n * @deprecated\n *\n * @param {Element | string} selector the input selector or target element\n * @param {Element=} parent optional Element to look into\n * @return {Element?} the Element or `querySelector` result\n */\nexport default function queryElement(selector, parent) {\n  return querySelector(selector, parent);\n}\n", "/**\n * A global namespace for 'addEventListener' string.\n * @type {string}\n */\nconst addEventListener = 'addEventListener';\nexport default addEventListener;\n", "/**\n * A global namespace for 'removeEventListener' string.\n * @type {string}\n */\nconst removeEventListener = 'removeEventListener';\nexport default removeEventListener;\n", "import addEventListener from '../strings/addEventListener.js';\nimport removeEventListener from '../strings/removeEventListener.js';\n\n/**\n * A global namespace for passive events support.\n * @type {boolean}\n */\nconst supportPassive = (() => {\n  let result = false;\n  try {\n    const opts = Object.defineProperty({}, 'passive', {\n      get() {\n        result = true;\n        return result;\n      },\n    });\n    document[addEventListener]('DOMContentLoaded', function wrap() {\n      document[removeEventListener]('DOMContentLoaded', wrap, opts);\n    }, opts);\n  } catch (e) {\n    throw Error('Passive events are not supported');\n  }\n\n  return result;\n})();\n\nexport default supportPassive;\n", "// general event options\n// not suited for scroll prevention\n// https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\nimport supportPassive from '../boolean/supportPassive';\n\n/**\n * A global namespace for most scroll event listeners.\n */\nconst passiveHandler = supportPassive ? { passive: true } : false;\n\nexport default passiveHandler;\n", "/**\n * Add class to Element.classList\n *\n * @param {Element} element target\n * @param {string} classNAME to add\n */\nexport default function addClass(element, classNAME) {\n  element.classList.add(classNAME);\n}\n", "/**\n * Check class in Element.classList\n *\n * @param {Element} element target\n * @param {string} classNAME to check\n * @return {boolean}\n */\nexport default function hasClass(element, classNAME) {\n  return element.classList.contains(classNAME);\n}\n", "/**\n * Remove class from Element.classList\n *\n * @param {Element} element target\n * @param {string} classNAME to remove\n */\nexport default function removeClass(element, classNAME) {\n  element.classList.remove(classNAME);\n}\n", "const ariaExpanded = 'aria-expanded';\nexport default ariaExpanded;\n", "const showClass = 'show';\nexport default showClass;\n", "const dataBsToggle = 'data-bs-toggle';\nexport default dataBsToggle;\n", "const dropdownMenuClasses = ['dropdown', 'dropup', 'dropstart', 'dropend'];\nexport default dropdownMenuClasses;\n", "const dropdownMenuClass = 'dropdown-menu';\nexport default dropdownMenuClass;\n", "export default function bootstrapCustomEvent(namespacedEventType, eventProperties) {\n  const OriginalCustomEvent = new CustomEvent(namespacedEventType, { cancelable: true });\n\n  if (eventProperties instanceof Object) {\n    Object.keys(eventProperties).forEach((key) => {\n      Object.defineProperty(OriginalCustomEvent, key, {\n        value: eventProperties[key],\n      });\n    });\n  }\n  return OriginalCustomEvent;\n}\n", "export default function isEmptyAnchor(elem) {\n  const parentAnchor = elem.closest('A');\n  // anchor href starts with #\n  return elem && ((elem.hasAttribute('href') && elem.href.slice(-1) === '#')\n    // OR a child of an anchor with href starts with #\n    || (parentAnchor && parentAnchor.hasAttribute('href') && parentAnchor.href.slice(-1) === '#'));\n}\n", "export default function setFocus(element) {\n  element.focus();\n}\n", "/**\n * The raw value or a given component option.\n *\n * @typedef {string | Element | Function | number | boolean | null} niceValue\n */\n\n/**\n * Utility to normalize component options\n *\n * @param {any} value the input value\n * @return {niceValue} the normalized value\n */\nexport default function normalizeValue(value) {\n  if (value === 'true') { // boolean\n    return true;\n  }\n\n  if (value === 'false') { // boolean\n    return false;\n  }\n\n  if (!Number.isNaN(+value)) { // number\n    return +value;\n  }\n\n  if (value === '' || value === 'null') { // null\n    return null;\n  }\n\n  // string / function / Element / object\n  return value;\n}\n", "/**\n * Shortcut for `Object.keys()` static method.\n * @param  {Record<string, any>} obj a target object\n * @returns {string[]}\n */\nconst ObjectKeys = (obj) => Object.keys(obj);\nexport default ObjectKeys;\n", "import normalizeValue from './normalizeValue';\nimport ObjectKeys from './ObjectKeys';\n\n/**\n * Utility to normalize component options\n *\n * @param {Element} element target\n * @param {Record<string, any>} defaultOps component default options\n * @param {Record<string, any>} inputOps component instance options\n * @param {string=} ns component namespace\n * @return {Record<string, any>} normalized component options object\n */\nexport default function normalizeOptions(element, defaultOps, inputOps, ns) {\n  // @ts-ignore -- usually our `Element` is `HTMLElement` as well\n  const data = { ...element.dataset };\n  const normalOps = {};\n  const dataOps = {};\n\n  ObjectKeys(data).forEach((k) => {\n    const key = ns && k.includes(ns)\n      ? k.replace(ns, '').replace(/[A-Z]/, (match) => match.toLowerCase())\n      : k;\n\n    dataOps[key] = normalizeValue(data[k]);\n  });\n\n  ObjectKeys(inputOps).forEach((k) => {\n    inputOps[k] = normalizeValue(inputOps[k]);\n  });\n\n  ObjectKeys(defaultOps).forEach((k) => {\n    if (k in inputOps) {\n      normalOps[k] = inputOps[k];\n    } else if (k in dataOps) {\n      normalOps[k] = dataOps[k];\n    } else {\n      normalOps[k] = defaultOps[k];\n    }\n  });\n\n  return normalOps;\n}\n", "/* Native JavaScript for Bootstrap 5 | Base Component\n----------------------------------------------------- */\n\nimport queryElement from 'shorter-js/src/misc/queryElement.js';\nimport normalizeOptions from 'shorter-js/src/misc/normalizeOptions.js';\n\nexport default class BaseComponent {\n  constructor(name, target, defaults, config) {\n    const self = this;\n    const element = queryElement(target);\n\n    if (element[name]) element[name].dispose();\n    self.element = element;\n\n    if (defaults && Object.keys(defaults).length) {\n      self.options = normalizeOptions(element, defaults, (config || {}), 'bs');\n    }\n    element[name] = self;\n  }\n\n  dispose(name) {\n    const self = this;\n    self.element[name] = null;\n    Object.keys(self).forEach((prop) => { self[prop] = null; });\n  }\n}\n", "/* Native JavaScript for Bootstrap 5 | Dropdown\n----------------------------------------------- */\nimport queryElement from 'shorter-js/src/misc/queryElement.js';\nimport passiveHandler from 'shorter-js/src/misc/passiveHandler.js';\nimport addClass from 'shorter-js/src/class/addClass.js';\nimport hasClass from 'shorter-js/src/class/hasClass.js';\nimport removeClass from 'shorter-js/src/class/removeClass.js';\nimport addEventListener from 'shorter-js/src/strings/addEventListener.js';\nimport removeEventListener from 'shorter-js/src/strings/removeEventListener.js';\n\nimport ariaExpanded from '../strings/ariaExpanded.js';\nimport showClass from '../strings/showClass.js';\nimport dataBsToggle from '../strings/dataBsToggle.js';\nimport dropdownClasses from '../strings/dropdownClasses.js';\nimport dropdownMenuClass from '../strings/dropdownMenuClass.js';\n\nimport bootstrapCustomEvent from '../util/bootstrapCustomEvent.js';\nimport isEmptyAnchor from '../util/isEmptyAnchor.js';\nimport setFocus from '../util/setFocus.js';\nimport BaseComponent from './base-component.js';\n\n// DROPDOWN PRIVATE GC\n// ===================\nconst [dropdownString] = dropdownClasses;\nconst dropdownComponent = 'Dropdown';\nconst dropdownSelector = `[${dataBsToggle}=\"${dropdownString}\"]`;\n\n// DROPDOWN PRIVATE GC\n// ===================\nconst dropupString = dropdownClasses[1];\nconst dropstartString = dropdownClasses[2];\nconst dropendString = dropdownClasses[3];\nconst dropdownMenuEndClass = `${dropdownMenuClass}-end`;\nconst hideMenuClass = ['d-block', 'invisible'];\nconst verticalClass = [dropdownString, dropupString];\nconst horizontalClass = [dropstartString, dropendString];\nconst defaultDropdownOptions = {\n  offset: 5, // [number] 5(px)\n  display: 'dynamic', // [dynamic|static]\n};\n\n// DROPDOWN CUSTOM EVENTS\n// ========================\nconst showDropdownEvent = bootstrapCustomEvent(`show.bs.${dropdownString}`);\nconst shownDropdownEvent = bootstrapCustomEvent(`shown.bs.${dropdownString}`);\nconst hideDropdownEvent = bootstrapCustomEvent(`hide.bs.${dropdownString}`);\nconst hiddenDropdownEvent = bootstrapCustomEvent(`hidden.bs.${dropdownString}`);\n\n// DROPDOWN PRIVATE METHODS\n// ========================\nfunction styleDropdown(self, show) {\n  const {\n    element, menu, originalClass, menuEnd, options,\n  } = self;\n  const { offset } = options;\n  const parent = element.parentElement;\n\n  // reset menu offset and position\n  const resetProps = ['margin', 'top', 'bottom', 'left', 'right'];\n  resetProps.forEach((p) => { menu.style[p] = ''; });\n  removeClass(parent, 'position-static');\n\n  if (!show) {\n    const menuEndNow = hasClass(menu, dropdownMenuEndClass);\n    parent.className = originalClass.join(' ');\n    if (menuEndNow && !menuEnd) removeClass(menu, dropdownMenuEndClass);\n    else if (!menuEndNow && menuEnd) addClass(menu, dropdownMenuEndClass);\n    return;\n  }\n\n  // set initial position class\n  // take into account .btn-group parent as .dropdown\n  let positionClass = dropdownClasses.find((c) => originalClass.includes(c)) || dropdownString;\n\n  let dropdownMargin = {\n    dropdown: [offset, 0, 0],\n    dropup: [0, 0, offset],\n    dropstart: [-1, offset, 0],\n    dropend: [-1, 0, 0, offset],\n  };\n\n  const dropdownPosition = {\n    dropdown: { top: '100%' },\n    dropup: { top: 'auto', bottom: '100%' },\n    dropstart: { left: 'auto', right: '100%' },\n    dropend: { left: '100%', right: 'auto' },\n    menuEnd: { right: 0, left: 'auto' },\n  };\n\n  // force showing the menu to calculate its size\n  hideMenuClass.forEach((c) => addClass(menu, c));\n\n  const dropdownRegex = new RegExp(`\\\\b(${dropdownString}|${dropupString}|${dropstartString}|${dropendString})+`);\n  const elementDimensions = { w: element.offsetWidth, h: element.offsetHeight };\n  const menuDimensions = { w: menu.offsetWidth, h: menu.offsetHeight };\n  const HTML = document.documentElement;\n  const BD = document.body;\n  const windowWidth = (HTML.clientWidth || BD.clientWidth);\n  const windowHeight = (HTML.clientHeight || BD.clientHeight);\n  const targetBCR = element.getBoundingClientRect();\n  // dropdownMenuEnd && [ dropdown | dropup ]\n  const leftExceed = targetBCR.left + elementDimensions.w - menuDimensions.w < 0;\n  // dropstart\n  const leftFullExceed = targetBCR.left - menuDimensions.w < 0;\n  // !dropdownMenuEnd && [ dropdown | dropup ]\n  const rightExceed = targetBCR.left + menuDimensions.w >= windowWidth;\n  // dropend\n  const rightFullExceed = targetBCR.left + menuDimensions.w + elementDimensions.w >= windowWidth;\n  // dropstart | dropend\n  const bottomExceed = targetBCR.top + menuDimensions.h >= windowHeight;\n  // dropdown\n  const bottomFullExceed = targetBCR.top + menuDimensions.h + elementDimensions.h >= windowHeight;\n  // dropup\n  const topExceed = targetBCR.top - menuDimensions.h < 0;\n\n  // recompute position\n  if (horizontalClass.includes(positionClass) && leftFullExceed && rightFullExceed) {\n    positionClass = dropdownString;\n  }\n  if (horizontalClass.includes(positionClass) && bottomExceed) {\n    positionClass = dropupString;\n  }\n  if (positionClass === dropstartString && leftFullExceed && !bottomExceed) {\n    positionClass = dropendString;\n  }\n  if (positionClass === dropendString && rightFullExceed && !bottomExceed) {\n    positionClass = dropstartString;\n  }\n  if (positionClass === dropupString && topExceed && !bottomFullExceed) {\n    positionClass = dropdownString;\n  }\n  if (positionClass === dropdownString && bottomFullExceed && !topExceed) {\n    positionClass = dropupString;\n  }\n\n  // set spacing\n  dropdownMargin = dropdownMargin[positionClass];\n  menu.style.margin = `${dropdownMargin.map((x) => (x ? `${x}px` : x)).join(' ')}`;\n  Object.keys(dropdownPosition[positionClass]).forEach((position) => {\n    menu.style[position] = dropdownPosition[positionClass][position];\n  });\n\n  // update dropdown position class\n  if (!hasClass(parent, positionClass)) {\n    parent.className = parent.className.replace(dropdownRegex, positionClass);\n  }\n\n  // update dropdown / dropup to handle parent btn-group element\n  // as well as the dropdown-menu-end utility class\n  if (verticalClass.includes(positionClass)) {\n    if (!menuEnd && rightExceed) addClass(menu, dropdownMenuEndClass);\n    else if (menuEnd && leftExceed) removeClass(menu, dropdownMenuEndClass);\n\n    if (hasClass(menu, dropdownMenuEndClass)) {\n      Object.keys(dropdownPosition.menuEnd).forEach((p) => {\n        menu.style[p] = dropdownPosition.menuEnd[p];\n      });\n    }\n  }\n\n  // remove util classes from the menu, we have its size\n  hideMenuClass.forEach((c) => removeClass(menu, c));\n}\n\nfunction toggleDropdownDismiss(self) {\n  const action = self.open ? addEventListener : removeEventListener;\n\n  document[action]('click', dropdownDismissHandler);\n  document[action]('focus', dropdownDismissHandler);\n  document[action]('keydown', dropdownPreventScroll);\n  document[action]('keyup', dropdownKeyHandler);\n\n  if (self.options.display === 'dynamic') {\n    window[action]('scroll', dropdownLayoutHandler, passiveHandler);\n    window[action]('resize', dropdownLayoutHandler, passiveHandler);\n  }\n}\n\nfunction toggleDropdownHandler(self, add) {\n  const action = add ? addEventListener : removeEventListener;\n  self.element[action]('click', dropdownClickHandler);\n}\n\nfunction getCurrentOpenDropdown() {\n  const currentParent = dropdownClasses.concat('btn-group')\n    .map((c) => document.getElementsByClassName(`${c} ${showClass}`))\n    .find((x) => x.length);\n\n  if (currentParent && currentParent.length) {\n    return Array.from(currentParent[0].children).find((x) => x.hasAttribute(dataBsToggle));\n  }\n  return null;\n}\n\n// DROPDOWN EVENT HANDLERS\n// =======================\nfunction dropdownDismissHandler(e) {\n  const { target, type } = e;\n  if (!target.closest) return; // some weird FF bug #409\n\n  const element = getCurrentOpenDropdown();\n  const parent = element && element.parentNode;\n  const self = element && element[dropdownComponent];\n  const menu = self && self.menu;\n\n  const hasData = target.closest(dropdownSelector) !== null;\n  const isForm = parent && parent.contains(target)\n    && (target.tagName === 'form' || target.closest('form') !== null);\n\n  if (type === 'click' && isEmptyAnchor(target)) {\n    e.preventDefault();\n  }\n  if (type === 'focus'\n    && (target === element || target === menu || menu.contains(target))) {\n    return;\n  }\n\n  if (isForm || hasData) {\n    // smile to ESLint\n  } else if (self) {\n    self.hide(element);\n  }\n}\n\nfunction dropdownClickHandler(e) {\n  const element = this;\n  const self = element[dropdownComponent];\n  self.toggle(element);\n\n  if (isEmptyAnchor(e.target)) e.preventDefault();\n}\n\nfunction dropdownPreventScroll(e) {\n  if (e.which === 38 || e.which === 40) e.preventDefault();\n}\n\nfunction dropdownKeyHandler({ which }) {\n  const element = getCurrentOpenDropdown();\n  const self = element[dropdownComponent];\n  const { menu, menuItems, open } = self;\n  const activeItem = document.activeElement;\n  const isSameElement = activeItem === element;\n  const isInsideMenu = menu.contains(activeItem);\n  const isMenuItem = activeItem.parentNode === menu || activeItem.parentNode.parentNode === menu;\n\n  let idx = menuItems.indexOf(activeItem);\n\n  if (isMenuItem) { // navigate up | down\n    if (isSameElement) {\n      idx = 0;\n    } else if (which === 38) {\n      idx = idx > 1 ? idx - 1 : 0;\n    } else if (which === 40) {\n      idx = idx < menuItems.length - 1 ? idx + 1 : idx;\n    }\n\n    if (menuItems[idx]) setFocus(menuItems[idx]);\n  }\n\n  if (((menuItems.length && isMenuItem) // menu has items\n      || (!menuItems.length && (isInsideMenu || isSameElement)) // menu might be a form\n      || !isInsideMenu) // or the focused element is not in the menu at all\n      && open && which === 27 // menu must be open\n  ) {\n    self.toggle();\n  }\n}\n\nfunction dropdownLayoutHandler() {\n  const element = getCurrentOpenDropdown();\n  const self = element && element[dropdownComponent];\n\n  if (self && self.open) styleDropdown(self, 1);\n}\n\n// DROPDOWN DEFINITION\n// ===================\nexport default class Dropdown extends BaseComponent {\n  constructor(target, config) {\n    super(dropdownComponent, target, defaultDropdownOptions, config);\n    // bind\n    const self = this;\n\n    // initialization element\n    const { element } = self;\n\n    // set targets\n    const parent = element.parentElement;\n    self.menu = queryElement(`.${dropdownMenuClass}`, parent);\n    const { menu } = self;\n\n    self.originalClass = Array.from(parent.classList);\n\n    // set original position\n    self.menuEnd = hasClass(menu, dropdownMenuEndClass);\n\n    self.menuItems = [];\n\n    Array.from(menu.children).forEach((child) => {\n      if (child.children.length && (child.children[0].tagName === 'A')) self.menuItems.push(child.children[0]);\n      if (child.tagName === 'A') self.menuItems.push(child);\n    });\n\n    // set initial state to closed\n    self.open = false;\n\n    // add event listener\n    toggleDropdownHandler(self, 1);\n  }\n\n  // DROPDOWN PUBLIC METHODS\n  // =======================\n  toggle(related) {\n    const self = this;\n    const { open } = self;\n\n    if (open) self.hide(related);\n    else self.show(related);\n  }\n\n  show(related) {\n    const self = this;\n    const currentParent = queryElement(dropdownClasses.concat('btn-group').map((c) => `.${c}.${showClass}`).join(','));\n    const currentElement = currentParent && queryElement(dropdownSelector, currentParent);\n\n    if (currentElement) currentElement[dropdownComponent].hide();\n\n    const { element, menu, open } = self;\n    const parent = element.parentNode;\n\n    // update relatedTarget and dispatch\n    showDropdownEvent.relatedTarget = related || null;\n    parent.dispatchEvent(showDropdownEvent);\n    if (showDropdownEvent.defaultPrevented) return;\n\n    // change menu position\n    styleDropdown(self, 1);\n\n    addClass(menu, showClass);\n    addClass(parent, showClass);\n\n    element.setAttribute(ariaExpanded, true);\n    self.open = !open;\n\n    setTimeout(() => {\n      setFocus(menu.getElementsByTagName('INPUT')[0] || element); // focus the first input item | element\n      toggleDropdownDismiss(self);\n\n      shownDropdownEvent.relatedTarget = related || null;\n      parent.dispatchEvent(shownDropdownEvent);\n    }, 1);\n  }\n\n  hide(related) {\n    const self = this;\n    const { element, menu, open } = self;\n    const parent = element.parentNode;\n    hideDropdownEvent.relatedTarget = related || null;\n    parent.dispatchEvent(hideDropdownEvent);\n    if (hideDropdownEvent.defaultPrevented) return;\n\n    removeClass(menu, showClass);\n    removeClass(parent, showClass);\n\n    // revert to original position\n    styleDropdown(self);\n\n    element.setAttribute(ariaExpanded, false);\n    self.open = !open;\n\n    setFocus(element);\n\n    // only re-attach handler if the instance is not disposed\n    setTimeout(() => toggleDropdownDismiss(self), 1);\n\n    // update relatedTarget and dispatch\n    hiddenDropdownEvent.relatedTarget = related || null;\n    parent.dispatchEvent(hiddenDropdownEvent);\n  }\n\n  dispose() {\n    const self = this;\n    const { element } = self;\n\n    if (hasClass(element.parentNode, showClass) && self.open) self.hide();\n\n    toggleDropdownHandler(self);\n\n    super.dispose(dropdownComponent);\n  }\n}\n\nDropdown.init = {\n  component: dropdownComponent,\n  selector: dropdownSelector,\n  constructor: Dropdown,\n};\n", "/**\r\n * Bootstrap 5 (and 4!) tags\r\n *\r\n * Turns your select[multiple] into nice tags lists\r\n *\r\n * Required Bootstrap 5 styles:\r\n * - badge\r\n * - background-color utility\r\n * - margin-end utility\r\n * - float-start utility\r\n * - forms\r\n * - dropdown\r\n */\r\n\r\nconst ACTIVE_CLASS = \"is-active\";\r\nconst ACTIVE_CLASSES = [\"is-active\", \"bg-primary\", \"text-white\"];\r\nconst VALUE_ATTRIBUTE = \"data-value\";\r\n\r\n// Static map will minify very badly as class prop, so we use an external constant\r\nconst INSTANCE_MAP = new WeakMap();\r\n\r\nclass Tags {\r\n  #abortController;\r\n  #selectElement;\r\n  #holderElement;\r\n  #containerElement;\r\n  #dropElement;\r\n  #searchInput;\r\n  #keyboardNavigation;\r\n  #fireEvents;\r\n\r\n  /**\r\n   * @param {HTMLSelectElement} el\r\n   * @param {Object} globalOpts\r\n   */\r\n  constructor(el, globalOpts = {}) {\r\n    // Hide the select element and register a tags attr\r\n    el.style.display = \"none\";\r\n    INSTANCE_MAP.set(el, this);\r\n    this.#selectElement = el;\r\n\r\n    // Allow 1/0, true/false as strings\r\n    const parseBool = (value) => [\"true\", \"false\", \"1\", \"0\", true, false].includes(value) && !!JSON.parse(value);\r\n\r\n    // Handle options, using global settings first and data attr override\r\n    const opts = { ...globalOpts, ...el.dataset };\r\n    this.allowNew = opts.allowNew ? parseBool(opts.allowNew) : false;\r\n    this.showAllSuggestions = opts.showAllSuggestions ? parseBool(opts.showAllSuggestions) : false;\r\n    this.badgeStyle = opts.badgeStyle || \"primary\";\r\n    this.allowClear = opts.allowClear ? parseBool(opts.allowClear) : false;\r\n    this.server = opts.server || false;\r\n    this.liveServer = opts.liveServer ? parseBool(opts.liveServer) : false;\r\n    this.serverParams = opts.serverParams || {};\r\n    if (typeof this.serverParams == \"string\") {\r\n      this.serverParams = JSON.parse(this.serverParams);\r\n    }\r\n    this.suggestionsThreshold = typeof opts.suggestionsThreshold != \"undefined\" ? parseInt(opts.suggestionsThreshold) : 1;\r\n    this.validationRegex = opts.regex || \"\";\r\n    this.separator = opts.separator ? opts.separator.split(\"|\") : [];\r\n    this.max = opts.max ? parseInt(opts.max) : null;\r\n    this.clearLabel = opts.clearLabel || \"Clear\";\r\n    this.searchLabel = opts.searchLabel || \"Type a value\";\r\n\r\n    this.placeholder = this.#getPlaceholder();\r\n    this.#keyboardNavigation = false;\r\n    this.#fireEvents = true;\r\n\r\n    this.parentForm = el.parentElement;\r\n    while (this.parentForm) {\r\n      this.parentForm = this.parentForm.parentElement;\r\n      if (this.parentForm && this.parentForm.nodeName == \"FORM\") {\r\n        break;\r\n      }\r\n    }\r\n    this.reset = this.reset.bind(this);\r\n    if (this.parentForm) {\r\n      this.parentForm.addEventListener(\"reset\", this.reset);\r\n    }\r\n\r\n    // Create elements\r\n    this.#holderElement = document.createElement(\"div\"); // this is the one holding the fake input and the dropmenu\r\n    this.#containerElement = document.createElement(\"div\"); // this is the one for the fake input (labels + input)\r\n    this.#dropElement = document.createElement(\"ul\");\r\n    this.#searchInput = document.createElement(\"input\");\r\n\r\n    this.#holderElement.appendChild(this.#containerElement);\r\n    this.#containerElement.appendChild(this.#searchInput);\r\n    this.#holderElement.appendChild(this.#dropElement);\r\n    // insert after\r\n    this.#selectElement.parentNode.insertBefore(this.#holderElement, this.#selectElement.nextSibling);\r\n\r\n    // Configure them\r\n    this.#configureHolderElement();\r\n    this.#configureDropElement();\r\n    this.#configureContainerElement();\r\n    this.#configureSearchInput();\r\n    this.resetState();\r\n\r\n    if (this.server && !this.liveServer) {\r\n      this.#loadFromServer();\r\n    } else {\r\n      this.resetSuggestions();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Attach to all elements matched by the selector\r\n   * @param {string} selector\r\n   * @param {Object} opts\r\n   */\r\n  static init(selector = \"select[multiple]\", opts = {}) {\r\n    let list = document.querySelectorAll(selector);\r\n    for (let i = 0; i < list.length; i++) {\r\n      if (Tags.getInstance(list[i])) {\r\n        continue;\r\n      }\r\n      new Tags(list[i], opts);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLSelectElement} el\r\n   */\r\n  static getInstance(el) {\r\n    if (INSTANCE_MAP.has(el)) {\r\n      return INSTANCE_MAP.get(el);\r\n    }\r\n  }\r\n\r\n  dispose() {\r\n    INSTANCE_MAP.delete(this.#selectElement);\r\n    this.#selectElement.style.display = \"block\";\r\n    this.#holderElement.parentNode.removeChild(this.#holderElement);\r\n    if (this.parentForm) {\r\n      this.parentForm.removeEventListener(\"reset\", this.reset);\r\n    }\r\n  }\r\n\r\n  resetState() {\r\n    if (this.isDisabled()) {\r\n      this.#holderElement.setAttribute(\"readonly\", \"\");\r\n      this.#searchInput.setAttribute(\"disabled\", \"\");\r\n    } else {\r\n      if (this.#holderElement.hasAttribute(\"readonly\")) {\r\n        this.#holderElement.removeAttribute(\"readonly\");\r\n      }\r\n      if (this.#searchInput.hasAttribute(\"disabled\")) {\r\n        this.#searchInput.removeAttribute(\"disabled\");\r\n      }\r\n    }\r\n  }\r\n\r\n  resetSuggestions() {\r\n    let suggestions = Array.from(this.#selectElement.querySelectorAll(\"option\"))\r\n      .filter((option) => {\r\n        return !option.disabled;\r\n      })\r\n      .map((option) => {\r\n        return {\r\n          value: option.getAttribute(\"value\"),\r\n          label: option.textContent,\r\n        };\r\n      });\r\n    this.#buildSuggestions(suggestions);\r\n  }\r\n\r\n  /**\r\n   * @param {boolean} show\r\n   */\r\n  #loadFromServer(show = false) {\r\n    if (this.#abortController) {\r\n      this.#abortController.abort();\r\n    }\r\n    this.#abortController = new AbortController();\r\n\r\n    this.serverParams.query = this.#searchInput.value;\r\n    const params = new URLSearchParams(this.serverParams).toString();\r\n\r\n    fetch(this.server + \"?\" + params, { signal: this.#abortController.signal })\r\n      .then((r) => r.json())\r\n      .then((suggestions) => {\r\n        let data = suggestions.data || suggestions;\r\n        this.#buildSuggestions(data);\r\n        this.#abortController = null;\r\n        if (show) {\r\n          this.#showSuggestions();\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        if (e.name === \"AbortError\") {\r\n          return;\r\n        }\r\n        console.error(e);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * @returns {string}\r\n   */\r\n  #getPlaceholder() {\r\n    // Use placeholder and data-placeholder in priority\r\n    if (this.#selectElement.hasAttribute(\"placeholder\")) {\r\n      return this.#selectElement.getAttribute(\"placeholder\");\r\n    }\r\n    if (this.#selectElement.dataset.placeholder) {\r\n      return this.#selectElement.dataset.placeholder;\r\n    }\r\n    // Fallback to first option if no value\r\n    let firstOption = this.#selectElement.querySelector(\"option\");\r\n    if (!firstOption) {\r\n      return \"\";\r\n    }\r\n    if (firstOption.hasAttribute(\"selected\")) {\r\n      firstOption.removeAttribute(\"selected\");\r\n    }\r\n    return !firstOption.value ? firstOption.textContent : \"\";\r\n  }\r\n\r\n  #configureDropElement() {\r\n    this.#dropElement.classList.add(...[\"dropdown-menu\", \"p-0\"]);\r\n    this.#dropElement.style.maxHeight = \"280px\";\r\n    this.#dropElement.style.overflowY = \"auto\";\r\n\r\n    // If the mouse was outside, entering remove keyboard nav mode\r\n    this.#dropElement.addEventListener(\"mouseenter\", (event) => {\r\n      this.#keyboardNavigation = false;\r\n    });\r\n  }\r\n\r\n  #configureHolderElement() {\r\n    this.#holderElement.classList.add(...[\"form-control\", \"dropdown\"]);\r\n    if (this.#getBootstrapVersion() === 4) {\r\n      // Prevent fixed height due to form-control\r\n      this.#holderElement.style.height = \"auto\";\r\n    }\r\n  }\r\n\r\n  #configureContainerElement() {\r\n    this.#containerElement.addEventListener(\"click\", (event) => {\r\n      if (this.isDisabled()) {\r\n        return;\r\n      }\r\n      if (this.#searchInput.style.visibility != \"hidden\") {\r\n        this.#searchInput.focus();\r\n      }\r\n    });\r\n\r\n    // add initial values\r\n    // we use selectedOptions because single select can have a selected option\r\n    // without a selected attribute if it's the first value\r\n    let initialValues = this.#selectElement.selectedOptions;\r\n    for (let j = 0; j < initialValues.length; j++) {\r\n      let initialValue = initialValues[j];\r\n      if (!initialValue.value) {\r\n        continue;\r\n      }\r\n      // track initial values for reset\r\n      initialValue.dataset.init = 1;\r\n      this.addItem(initialValue.textContent, initialValue.value);\r\n    }\r\n  }\r\n\r\n  #configureSearchInput() {\r\n    this.#searchInput.type = \"text\";\r\n    this.#searchInput.autocomplete = \"off\";\r\n    this.#searchInput.spellcheck = false;\r\n    this.#searchInput.style.backgroundColor = \"transparent\";\r\n    this.#searchInput.style.border = 0;\r\n    this.#searchInput.style.outline = 0;\r\n    this.#searchInput.style.maxWidth = \"100%\";\r\n    this.#searchInput.ariaLabel = this.searchLabel;\r\n    this.#resetSearchInput(true);\r\n\r\n    this.#searchInput.addEventListener(\"input\", (event) => {\r\n      // Add item if a separator is used\r\n      // On mobile or copy paste, it can pass multiple chars (eg: when pressing space and it formats the string)\r\n      if (event.data) {\r\n        const lastChar = event.data.slice(-1);\r\n        if (this.separator.length && this.#searchInput.value && this.separator.includes(lastChar)) {\r\n          // Remove separator even if adding is prevented\r\n          this.#searchInput.value = this.#searchInput.value.slice(0, -1);\r\n          let text = this.#searchInput.value;\r\n          if (!this.canAdd(text)) {\r\n            return;\r\n          }\r\n          this.addItem(text, null);\r\n          this.#resetSearchInput();\r\n          return;\r\n        }\r\n      }\r\n\r\n      // Adjust input width to current content\r\n      this.#adjustWidth();\r\n\r\n      // Check if we should display suggestions\r\n      if (this.#searchInput.value.length >= this.suggestionsThreshold) {\r\n        if (this.liveServer) {\r\n          this.#loadFromServer(true);\r\n        } else {\r\n          this.#showSuggestions();\r\n        }\r\n      } else {\r\n        this.#hideSuggestions();\r\n      }\r\n    });\r\n    this.#searchInput.addEventListener(\"focus\", (event) => {\r\n      if (this.#searchInput.value.length >= this.suggestionsThreshold) {\r\n        this.#showSuggestions();\r\n      }\r\n    });\r\n    this.#searchInput.addEventListener(\"focusout\", (event) => {\r\n      this.#hideSuggestions();\r\n    });\r\n    // keypress doesn't send arrow keys, so we use keydown\r\n    this.#searchInput.addEventListener(\"keydown\", (event) => {\r\n      // Keycode reference : https://css-tricks.com/snippets/javascript/javascript-keycodes/\r\n      let key = event.keyCode || event.key;\r\n\r\n      // Keyboard keys\r\n      switch (key) {\r\n        case 13:\r\n        case \"Enter\":\r\n          event.preventDefault();\r\n          let selection = this.getActiveSelection();\r\n          if (selection) {\r\n            selection.click();\r\n          } else {\r\n            // We use what is typed if not selected and not empty\r\n            if (this.allowNew && this.#searchInput.value) {\r\n              let text = this.#searchInput.value;\r\n              if (!this.canAdd(text)) {\r\n                return;\r\n              }\r\n              this.addItem(text, null);\r\n              this.#resetSearchInput();\r\n            }\r\n          }\r\n          break;\r\n        case 38:\r\n        case \"ArrowUp\":\r\n          event.preventDefault();\r\n          this.#keyboardNavigation = true;\r\n          let newSelection = this.#moveSelectionUp();\r\n          // If we use arrow up without input and there is no new selection, hide suggestions\r\n          if (this.#searchInput.value.length == 0 && this.#dropElement.classList.contains(\"show\") && !newSelection) {\r\n            this.#hideSuggestions();\r\n          }\r\n          break;\r\n        case 40:\r\n        case \"ArrowDown\":\r\n          event.preventDefault();\r\n          this.#keyboardNavigation = true;\r\n          this.#moveSelectionDown();\r\n          // If we use arrow down without input, show suggestions\r\n          if (this.#searchInput.value.length == 0 && !this.#dropElement.classList.contains(\"show\")) {\r\n            this.#showSuggestions();\r\n          }\r\n          break;\r\n        case 8:\r\n        case \"Backspace\":\r\n          if (this.#searchInput.value.length == 0) {\r\n            this.removeLastItem();\r\n            this.#adjustWidth();\r\n            this.#hideSuggestions();\r\n          }\r\n          break;\r\n        case 27:\r\n        case \"Escape\":\r\n          // We may wish to not use the suggestions\r\n          this.#hideSuggestions();\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @returns {HTMLElement}\r\n   */\r\n  #moveSelectionUp() {\r\n    let active = this.getActiveSelection();\r\n    if (active) {\r\n      let prev = active.parentNode;\r\n      do {\r\n        prev = prev.previousSibling;\r\n      } while (prev && prev.style.display == \"none\");\r\n      if (!prev) {\r\n        return null;\r\n      }\r\n      active.classList.remove(...ACTIVE_CLASSES);\r\n      prev.querySelector(\"a\").classList.add(...ACTIVE_CLASSES);\r\n      // Don't use scrollIntoView as it scrolls the whole window\r\n      prev.parentNode.scrollTop = prev.offsetTop - prev.parentNode.offsetTop;\r\n      return prev;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @returns {HTMLElement}\r\n   */\r\n  #moveSelectionDown() {\r\n    let active = this.getActiveSelection();\r\n    let next = null;\r\n    if (active) {\r\n      next = active.parentNode;\r\n      do {\r\n        next = next.nextSibling;\r\n      } while (next && next.style.display == \"none\");\r\n      if (!next) {\r\n        return null;\r\n      }\r\n      active.classList.remove(...ACTIVE_CLASSES);\r\n      next.querySelector(\"a\").classList.add(...ACTIVE_CLASSES);\r\n      // This is the equivalent of scrollIntoView(false) but only for parent node\r\n      if (next.offsetTop > next.parentNode.offsetHeight - next.offsetHeight) {\r\n        next.parentNode.scrollTop += next.offsetHeight;\r\n      }\r\n      return next;\r\n    }\r\n    return next;\r\n  }\r\n\r\n  /**\r\n   * Adjust the field to fit its content and show/hide placeholder if needed\r\n   */\r\n  #adjustWidth() {\r\n    if (this.#searchInput.value) {\r\n      this.#searchInput.size = this.#searchInput.value.length + 1;\r\n    } else {\r\n      // Show the placeholder only if empty\r\n      if (this.getSelectedValues().length) {\r\n        this.#searchInput.placeholder = \"\";\r\n        this.#searchInput.size = 1;\r\n      } else {\r\n        this.#searchInput.size = this.placeholder.length > 0 ? this.placeholder.length : 1;\r\n        this.#searchInput.placeholder = this.placeholder;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add suggestions to the drop element\r\n   * @param {array}\r\n   */\r\n  #buildSuggestions(suggestions = null) {\r\n    while (this.#dropElement.lastChild) {\r\n      this.#dropElement.removeChild(this.#dropElement.lastChild);\r\n    }\r\n    for (let i = 0; i < suggestions.length; i++) {\r\n      let suggestion = suggestions[i];\r\n      if (!suggestion.value) {\r\n        continue;\r\n      }\r\n      let newChild = document.createElement(\"li\");\r\n      let newChildLink = document.createElement(\"a\");\r\n      newChild.append(newChildLink);\r\n      newChildLink.classList.add(\"dropdown-item\");\r\n      newChildLink.setAttribute(VALUE_ATTRIBUTE, suggestion.value);\r\n      newChildLink.setAttribute(\"href\", \"#\");\r\n      newChildLink.textContent = suggestion.label;\r\n      if (suggestion.data) {\r\n        for (const [key, value] of Object.entries(suggestion.data)) {\r\n          newChildLink.dataset[key] = value;\r\n        }\r\n      }\r\n      this.#dropElement.appendChild(newChild);\r\n\r\n      // Hover sets active item\r\n      newChildLink.addEventListener(\"mouseenter\", (event) => {\r\n        // Don't trigger enter if using arrows\r\n        if (this.#keyboardNavigation) {\r\n          return;\r\n        }\r\n        this.removeActiveSelection();\r\n        newChild.querySelector(\"a\").classList.add(...ACTIVE_CLASSES);\r\n      });\r\n      // Moving the mouse means no longer using keyboard\r\n      newChildLink.addEventListener(\"mousemove\", (event) => {\r\n        this.#keyboardNavigation = false;\r\n      });\r\n\r\n      newChildLink.addEventListener(\"mousedown\", (event) => {\r\n        // Otherwise searchInput would lose focus and close the menu\r\n        event.preventDefault();\r\n      });\r\n      newChildLink.addEventListener(\"click\", (event) => {\r\n        event.preventDefault();\r\n        let text = newChildLink.textContent;\r\n        if (!this.canAdd(text, newChildLink.getAttribute(VALUE_ATTRIBUTE))) {\r\n          return;\r\n        }\r\n        this.addItem(text, newChildLink.getAttribute(VALUE_ATTRIBUTE), newChildLink.dataset);\r\n        this.#resetSearchInput();\r\n      });\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this.removeAll();\r\n\r\n    // Reset doesn't fire change event\r\n    this.#fireEvents = false;\r\n    let initialValues = this.#selectElement.querySelectorAll(\"option[data-init]\");\r\n    for (let j = 0; j < initialValues.length; j++) {\r\n      let initialValue = initialValues[j];\r\n      this.addItem(initialValue.textContent, initialValue.value);\r\n    }\r\n    this.#adjustWidth();\r\n    this.#fireEvents = true;\r\n  }\r\n\r\n  #resetSearchInput(init = false) {\r\n    this.#searchInput.value = \"\";\r\n    this.#adjustWidth();\r\n\r\n    if (!init) {\r\n      this.#hideSuggestions();\r\n      // Trigger input even to show suggestions if needed\r\n      this.#searchInput.dispatchEvent(new Event(\"input\"));\r\n    }\r\n\r\n    // We use visibility instead of display to keep layout intact\r\n    if (this.max && this.getSelectedValues().length === this.max) {\r\n      this.#searchInput.style.visibility = \"hidden\";\r\n    } else if (this.#searchInput.style.visibility == \"hidden\") {\r\n      this.#searchInput.style.visibility = \"visible\";\r\n    }\r\n\r\n    if (this.isSingle() && !init) {\r\n      document.activeElement.blur();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @returns {array}\r\n   */\r\n  getSelectedValues() {\r\n    // option[selected] is used rather that selectedOptions as it works more consistently\r\n    let selected = this.#selectElement.querySelectorAll(\"option[selected]\");\r\n    return Array.from(selected).map((el) => el.value);\r\n  }\r\n\r\n  /**\r\n   * The element create with buildSuggestions\r\n   */\r\n  #showSuggestions() {\r\n    if (this.#searchInput.style.visibility == \"hidden\") {\r\n      return;\r\n    }\r\n\r\n    // Position next to search input\r\n    this.#dropElement.style.left = this.#searchInput.offsetLeft + \"px\";\r\n\r\n    // Get search value\r\n    let search = this.#searchInput.value.toLocaleLowerCase();\r\n\r\n    // Get current values\r\n    let values = this.getSelectedValues();\r\n\r\n    // Filter the list according to search string\r\n    let list = this.#dropElement.querySelectorAll(\"li\");\r\n    let found = false;\r\n    let firstItem = null;\r\n    let hasPossibleValues = false;\r\n    for (let i = 0; i < list.length; i++) {\r\n      let item = list[i];\r\n      let text = item.textContent.toLocaleLowerCase();\r\n      let link = item.querySelector(\"a\");\r\n\r\n      // Remove previous selection\r\n      link.classList.remove(...ACTIVE_CLASSES);\r\n\r\n      // Hide selected values\r\n      if (values.indexOf(link.getAttribute(VALUE_ATTRIBUTE)) != -1) {\r\n        item.style.display = \"none\";\r\n        continue;\r\n      }\r\n\r\n      hasPossibleValues = true;\r\n\r\n      // Check search length since we can trigger dropdown with arrow\r\n      let isMatched = search.length === 0 || text.indexOf(search) !== -1;\r\n      if (this.showAllSuggestions || this.suggestionsThreshold === 0 || isMatched) {\r\n        item.style.display = \"list-item\";\r\n        found = true;\r\n        if (!firstItem && isMatched) {\r\n          firstItem = item;\r\n        }\r\n      } else {\r\n        item.style.display = \"none\";\r\n      }\r\n    }\r\n\r\n    // Always select first item\r\n    if (firstItem) {\r\n      this.#holderElement.classList.remove(\"is-invalid\");\r\n      firstItem.querySelector(\"a\").classList.add(...ACTIVE_CLASSES);\r\n      firstItem.parentNode.scrollTop = firstItem.offsetTop - firstItem.parentNode.offsetTop;\r\n    } else {\r\n      // No item and we don't allow new items => error\r\n      if (!this.allowNew && !(search.length === 0 && !hasPossibleValues)) {\r\n        this.#holderElement.classList.add(\"is-invalid\");\r\n      } else if (this.validationRegex && this.isInvalid()) {\r\n        this.#holderElement.classList.remove(\"is-invalid\");\r\n      }\r\n    }\r\n\r\n    // Remove dropdown if not found or to show validation message\r\n    if (!found || this.isInvalid()) {\r\n      this.#dropElement.classList.remove(\"show\");\r\n    } else {\r\n      // Or show it if necessary\r\n      this.#dropElement.classList.add(\"show\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The element create with buildSuggestions\r\n   */\r\n  #hideSuggestions() {\r\n    this.#dropElement.classList.remove(\"show\");\r\n    this.#holderElement.classList.remove(\"is-invalid\");\r\n    this.removeActiveSelection();\r\n  }\r\n\r\n  /**\r\n   * @returns {Number}\r\n   */\r\n  #getBootstrapVersion() {\r\n    let ver = 5;\r\n    // If we have jQuery and the tooltip plugin for BS4\r\n    if (window.jQuery && $.fn.tooltip != undefined && $.fn.tooltip.Constructor != undefined) {\r\n      ver = parseInt($.fn.tooltip.Constructor.VERSION.charAt(0));\r\n    }\r\n    return ver;\r\n  }\r\n\r\n  /**\r\n   * Find if label is already selected (based on attribute)\r\n   * @param {string} text\r\n   * @returns {boolean}\r\n   */\r\n  #isSelected(text) {\r\n    const opt = Array.from(this.#selectElement.querySelectorAll(\"option\")).find((el) => el.textContent == text);\r\n    if (opt && opt.getAttribute(\"selected\")) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Checks if value matches a configured regex\r\n   * @param {string} value\r\n   * @returns {boolean}\r\n   */\r\n  #validateRegex(value) {\r\n    const regex = new RegExp(this.validationRegex.trim());\r\n    return regex.test(value);\r\n  }\r\n\r\n  /**\r\n   * @returns {HTMLElement}\r\n   */\r\n  getActiveSelection() {\r\n    return this.#dropElement.querySelector(\"a.\" + ACTIVE_CLASS);\r\n  }\r\n\r\n  removeActiveSelection() {\r\n    let selection = this.getActiveSelection();\r\n    if (selection) {\r\n      selection.classList.remove(...ACTIVE_CLASSES);\r\n    }\r\n  }\r\n\r\n  removeAll() {\r\n    let items = this.getSelectedValues();\r\n    items.forEach((item) => {\r\n      this.removeItem(item);\r\n    });\r\n    this.#adjustWidth();\r\n  }\r\n\r\n  /**\r\n   * @param {boolean} noEvents\r\n   */\r\n  removeLastItem(noEvents) {\r\n    if (noEvents) {\r\n      this.#fireEvents = false;\r\n    }\r\n    let items = this.#containerElement.querySelectorAll(\"span\");\r\n    if (!items.length) {\r\n      return;\r\n    }\r\n    let lastItem = items[items.length - 1];\r\n    this.removeItem(lastItem.getAttribute(VALUE_ATTRIBUTE));\r\n    this.#fireEvents = true;\r\n  }\r\n\r\n  /**\r\n   * @returns {boolean}\r\n   */\r\n  isDisabled() {\r\n    return this.#selectElement.hasAttribute(\"disabled\") || this.#selectElement.disabled || this.#selectElement.hasAttribute(\"readonly\");\r\n  }\r\n\r\n  /**\r\n   * @returns {boolean}\r\n   */\r\n  isInvalid() {\r\n    return this.#holderElement.classList.contains(\"is-invalid\");\r\n  }\r\n\r\n  /**\r\n   * @returns {boolean}\r\n   */\r\n  isSingle() {\r\n    return !this.#selectElement.hasAttribute(\"multiple\");\r\n  }\r\n\r\n  /**\r\n   * @param {string} text\r\n   * @param {string} value\r\n   * @returns {boolean}\r\n   */\r\n  canAdd(text, value = null) {\r\n    if (!value) {\r\n      value = text;\r\n    }\r\n\r\n    // Check invalid input\r\n    if (!text) {\r\n      return false;\r\n    }\r\n    // Check disabled\r\n    if (this.isDisabled()) {\r\n      return false;\r\n    }\r\n    // Check already selected input (single will replace)\r\n    if (!this.isSingle() && this.#isSelected(value)) {\r\n      return false;\r\n    }\r\n    // Check for max\r\n    if (this.max && this.getSelectedValues().length >= this.max) {\r\n      return false;\r\n    }\r\n    // Check for regex\r\n    if (this.validationRegex && !this.#validateRegex(text)) {\r\n      this.#holderElement.classList.add(\"is-invalid\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * You might want to use canAdd before to ensure the item is valid\r\n   * @param {string} text\r\n   * @param {string} value\r\n   * @param {object} data\r\n   */\r\n  addItem(text, value = null, data = {}) {\r\n    if (!value) {\r\n      value = text;\r\n    }\r\n\r\n    // Single items remove first\r\n    if (this.isSingle() && this.getSelectedValues().length) {\r\n      this.removeLastItem(true);\r\n    }\r\n\r\n    const bver = this.#getBootstrapVersion();\r\n    let opt = this.#selectElement.querySelector('option[value=\"' + value + '\"]');\r\n    if (opt) {\r\n      data = opt.dataset;\r\n    }\r\n\r\n    // create span\r\n    let html = text;\r\n    let span = document.createElement(\"span\");\r\n    let classes = [\"badge\"];\r\n    let badgeStyle = this.badgeStyle;\r\n    if (data.badgeStyle) {\r\n      badgeStyle = data.badgeStyle;\r\n    }\r\n    if (data.badgeClass) {\r\n      classes.push(data.badgeClass);\r\n    }\r\n    if (bver === 5) {\r\n      //https://getbootstrap.com/docs/5.1/components/badge/\r\n      classes = [...classes, ...[\"me-2\", \"bg-\" + badgeStyle]];\r\n    } else {\r\n      // https://getbootstrap.com/docs/4.6/components/badge/\r\n      classes = [...classes, ...[\"mr-2\", \"badge-\" + badgeStyle]];\r\n    }\r\n    span.classList.add(...classes);\r\n    span.setAttribute(VALUE_ATTRIBUTE, value);\r\n\r\n    if (this.allowClear) {\r\n      const btn =\r\n        bver === 5\r\n          ? '<button type=\"button\" style=\"font-size:0.65em\" class=\"me-2 float-start btn-close btn-close-white\" aria-label=\"' + this.clearLabel + '\"></button>'\r\n          : '<button type=\"button\" style=\"font-size:1em;float:left;text-shadow:none;color:currentColor;transform:scale(1.2)\" class=\"mr-2 close\" aria-label=\"' + this.clearLabel + '\"><span aria-hidden=\"true\">&times;</span></button>';\r\n      html = btn + html;\r\n    }\r\n\r\n    span.innerHTML = html;\r\n    this.#containerElement.insertBefore(span, this.#searchInput);\r\n\r\n    if (this.allowClear) {\r\n      span.querySelector(\"button\").addEventListener(\"click\", (event) => {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        if (!this.isDisabled()) {\r\n          this.removeItem(value);\r\n          document.activeElement.blur();\r\n          this.#adjustWidth();\r\n        }\r\n      });\r\n    }\r\n\r\n    // we need to create a new option\r\n    if (!opt) {\r\n      opt = document.createElement(\"option\");\r\n      opt.value = value;\r\n      opt.textContent = text; // innerText is not well supported by jsdom\r\n      // Pass along data provided\r\n      for (const [key, value] of Object.entries(data)) {\r\n        opt.dataset[key] = value;\r\n      }\r\n      this.#selectElement.appendChild(opt);\r\n    }\r\n\r\n    // update select, we need to set attribute for option[selected]\r\n    opt.setAttribute(\"selected\", \"selected\");\r\n    opt.selected = true;\r\n\r\n    // Fire change event\r\n    if (this.#fireEvents) {\r\n      this.#selectElement.dispatchEvent(new Event(\"change\", { bubbles: true }));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {string} value\r\n   */\r\n  removeItem(value) {\r\n    let item = this.#containerElement.querySelector(\"span[\" + VALUE_ATTRIBUTE + '=\"' + value + '\"]');\r\n    if (!item) {\r\n      return;\r\n    }\r\n    item.remove();\r\n\r\n    // update select\r\n    let opt = this.#selectElement.querySelector('option[value=\"' + value + '\"]');\r\n    if (opt) {\r\n      opt.removeAttribute(\"selected\");\r\n      opt.selected = false;\r\n\r\n      // Fire change event\r\n      if (this.#fireEvents) {\r\n        this.#selectElement.dispatchEvent(new Event(\"change\", { bubbles: true }));\r\n      }\r\n    }\r\n\r\n    // Make input visible\r\n    if (this.#searchInput.style.visibility == \"hidden\" && this.max && this.getSelectedValues().length < this.max) {\r\n      this.#searchInput.style.visibility = \"visible\";\r\n    }\r\n  }\r\n}\r\n\r\nexport default Tags;\r\n", "import { Dropdown } from \"./node_modules/bootstrap.native/src/components/dropdown-native.js\";\r\nimport Tags from \"./tags.js\";\r\n\r\nexport default Tags;"],
  "mappings": "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",
  "names": []
}
